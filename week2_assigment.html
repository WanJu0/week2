<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta charset="utf-8" />
        <title>JavaScript week2</title>
    </head>
    <body>
        <script>
            // 要求一：
            function calculate(min, max, step)
            {
                let result=0;
                for(let i=min;i<max+1;i+=step)
                {
                    result=i+result;
                }
                console.log(result);
                return result;
            }
            calculate(1, 3, 1);
            calculate(4, 8, 2);
            calculate(-1, 2, 2)

            //要求二：
            function avg(data)
            {
                let result=0;
                let nums=[];
                for (let i=0; i<data.employees.length;i++)
                {
                    if(data.employees[i].manager==false)
                    {
                        result=result+data.employees[i].salary;
                        nums.push(result)
                        
                    }
                }
                avg_salary=result/nums.length;
                console.log(avg_salary);
                // console.log(nums);   
                // console.log(result);
            }
            avg(
            {
                "employees":
                [ 
                    {
                        "name":"John",
                        "salary":30000,         
                        "manager":false
                    },
                    {
                        "name":"Bob", 
                        "salary":60000, 
                        "manager":true
                    },
                    {
                        "name":"Jenny", 
                        "salary":50000, 
                        "manager":false
                    }, 
                    {
                        "name":"Tony",
                        "salary":40000,
                        "manager":false
                    } 
                ]
            });

            // 要求三：
            function func(a)
            {
                function func_b(b,c)
                {
                    console.log(a+(b*c));
                    return a+(b*c);
                }
                return func_b;//這必須返回的是整個函數，而不是函數的調用f();
             };
            func(2)(3,4);
            func(5)(1, -5);
            func(-3)(2, 9);

            // 要求四：
            function maxProduct(nums)
            {
                let result=[];
                for(let n=0;n<nums.length-1;n++)
                {
                    for(i=n+1;i<nums.length;i++)
                    {
                        result.push(nums[n]*nums[i]);
                    }
                } 
                //console.log(result);
                let max=result[0];
                for(let j=1;j<result.length;j++)
                { 
                    if (result[j]>max)
                    {
                        max= result[j]; 
                    }
                } 
               console.log(max); 
            }
            maxProduct([5, 20, 2, 6]);
            maxProduct([10, -20, 0, 3]);
            maxProduct([10, -20, 0, -3]);
            maxProduct([-1, 2]);
            maxProduct([-1, 0, 2]);
            maxProduct([5, -1, -2, 0]);
            maxProduct([-5, -2]);

            // 要求五：
            function twoSum(nums, target)
            {
                for(let i=0;i<nums.length-1;i++)
                {
                    for(let j=i+1;j<nums.length;j++)
                    {
                        let a=nums[i]+nums[j];
                        if (a==target)
                        {
                            let result=[i,j];
                            return result;
                        }
                    }
                }
            }
            let result=twoSum([2, 11, 7, 15], 9);
            console.log(result);

            // 要求六
            function maxZeros(nums)
            {
                let result=[];
                let k=0;
                for(i=0;i<nums.length;i++)
                {
                    if(nums[i]==0)
                    {
                        k=k+1;
                        result.push(k);
                    }
                    else
                    {
                        result.push(k);
                        k=0;
                        continue;
                    }
                }
                let max=result[0];
                for(let j=1;j<result.length;j++)
                { 
                    if (result[j]>max)
                    {
                        max= result[j]; 
                    }
                } 
                console.log(max);
            }
            maxZeros([0, 1, 0, 0]);
            maxZeros([1, 0, 0, 0, 0, 1, 0, 1, 0, 0]);
            maxZeros([1, 1, 1, 1, 1]);
            maxZeros([0, 0, 0, 1, 1]);
        
        </script>
       
    </body>
</html>